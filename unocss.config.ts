import { promises as fs } from 'node:fs'
import {
  defineConfig,
  presetAttributify,
  presetIcons,
  presetTypography,
  presetUno,
  presetWebFonts,
  transformerDirectives,
  transformerVariantGroup,
} from 'unocss'

export default defineConfig({
  shortcuts: [
    ['btn', 'px-4 py-1 rounded inline-block bg-#18a058 hover:bg-#36ad6a text-white cursor-pointer disabled:cursor-default disabled:bg-gray-600 disabled:opacity-50'],
    ['icon-btn', 'inline-block cursor-pointer select-none opacity-75 transition duration-200 ease-in-out hover:opacity-100 hover:text-teal-600'],
    ['theme-color', 'hover:color-#18a058'],
  ],
  presets: [
    presetUno(),
    presetAttributify(),
    presetIcons({
      scale: 1.2,
      warn: true,
      collections: {
        // key as the collection name
        ravi: {
          fav: '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev/svgjs" width="1000" height="1125" viewBox="0 0 1000 1125"><g transform="matrix(1,0,0,1,1.7053025658242404e-13,0)"><svg viewBox="0 0 320 360" data-background-color="#333333" preserveAspectRatio="xMidYMid meet" height="1125" width="1000" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g id="tight-bounds" transform="matrix(1,0,0,1,0,0)"><svg viewBox="0 0 320 360" height="360" width="320"><g><svg></svg></g><g><svg viewBox="0 0 320 360" height="360" width="320"><g><path d="M20.961 227.22l3.726 4.658-1.863-6.056c-0.466-2.795-3.726 0.466-1.863 1.398M25.153 224.425c1.397 2.329 2.795 4.658 2.795 6.987 0 3.261 2.795 4.658 5.123 5.589-3.261-3.726-5.124-13.974-7.918-12.576M204.017 26.929c7.918 0 15.371-0.932 23.756 0.931 20.495 5.124 37.729 15.371 49.374 29.811l32.606 52.169c1.397 13.042 4.192 27.482 3.726 43.319 3.261 0 2.795-4.658 6.521-5.59-3.726 9.316-5.59 20.961-6.521 34.469-2.329-7.453 0-18.632 0.466-24.687-3.261 5.124-5.124 1.397-5.124-0.932 0.466-3.726-1.397-3.261-2.795-4.658-5.124-4.658-8.384-9.782-12.11-17.7 2.329-6.055 2.795-14.905-4.658-19.563-2.329-1.397-5.124-3.726-6.521-7.453-1.863-5.124-5.124-11.179-4.193-19.097 0.466-2.329-6.987 5.124-11.179 1.863-18.166-12.576-36.332-27.016-58.224-39.127-11.645 0-20.029-4.192-24.221-9.316-3.726-4.658-0.932-10.713 4.658-11.179 3.261 0 6.987-0.932 9.782 0.932 0.466-1.863 2.329-4.192 4.657-4.192M157.904 16.215l0.932 0.466c4.658 0.932 6.987 7.453 12.11 5.124 0 3.261 0.466 6.521-0.466 8.85-1.397 3.726-5.59 3.726-8.85 3.726-31.208-1.863-49.374 11.179-68.471 22.358-5.124 3.261-10.713 5.59-14.906 9.782-20.029 18.632-41.921 35.866-47.045 70.335l-4.192 38.195c-0.466 4.192-5.124 8.384-4.192 13.508l3.26 22.824c-3.261-3.261-5.124 0.932-4.192 2.795 0.466 1.397 2.329 6.055 5.124 1.863 3.726 6.987 7.453 20.495 12.576 26.55 15.837 18.632 36.332 35.4 53.101 52.169 4.192-0.932 7.453-0.932 8.384-3.727 1.397 2.795-1.397 5.59-3.726 6.056 7.453 4.658 15.837 8.85 27.016 9.781 14.44 0.932 27.948 3.261 40.524 6.522 6.521-1.863 13.042-2.795 20.029-3.261 2.329 0 3.726-3.726 6.521-4.658l0.466-4.658c2.795 4.192 2.329-1.397 0.466-4.192 3.261 2.795 4.192 5.124 5.589 6.987 0-1.397 3.726-6.521 3.727-0.466l0.931-6.055c1.397-0.932 1.863 5.124 3.261 0.931 1.397-4.192 4.192-0.932 6.987-2.329-0.932 1.863-0.466 5.59 2.794 3.261l3.727-3.261c2.329 5.59 6.055 3.261 7.918 2.329 20.495-13.042 40.99-28.413 60.553-43.784l-0.466 6.055 2.329-7.453c2.329 2.329 4.192 0.466 5.124-0.931 2.795-4.658 6.521-9.316 12.577-13.508-7.453 20.029-16.303 35.866-27.482 48.908l-4.658 5.59c0 3.261-0.932 7.453-4.658 7.918-1.863 0.466-5.59-0.932-8.384 1.863-1.397 1.863 3.261 5.59-0.466 2.795-3.261-2.329-6.521 0-10.248 0.932-2.795 0.932 1.863 3.726 2.795 5.589 0.932 1.863 1.863 3.726 1.398 6.056l-5.124-5.59c-6.055 3.261-9.782 9.316-14.906 13.974-2.329 1.863-1.397 5.124-1.397 7.918-3.261 0-6.987-0.932-8.85 0.932-1.397 1.863-0.932 4.658-0.932 7.453-4.658-0.466-5.124-7.453-9.315-6.056-4.192 0.932-8.85 1.397-12.577 3.727 2.795 5.59-4.658 2.329-3.726 3.26-6.987-4.192-13.042-7.453-20.495-4.658-15.837-5.124-35.4-2.795-49.84-0.931 0-2.329 0.466-4.658-0.466-5.124-0.932 2.329-3.726 1.397-3.26 1.397-8.85-6.055-17.7-9.782-27.016-14.905-8.384 0.932-16.303-3.261-18.632-5.59-6.521-6.055-13.974-2.795-20.029-4.192-13.042-3.261-17.7-16.769-19.098-26.084-0.932-4.658-4.658-6.521-6.055-6.056-6.055-19.563-15.371-37.263-22.824-55.429-1.863-4.658-1.397-9.316-1.397-14.44 2.329 0.932 4.658 0.466 4.192-2.794-2.329-15.371-7.918-27.016-13.974-38.195 3.261-15.837 3.726-34.469 11.179-48.443 6.521-12.576 18.632-19.098 27.016-29.811 2.795-3.726 2.795-8.85 5.59-12.11 9.316-9.316 18.632-19.098 28.879-27.482 4.658-3.726 10.247 0 17.234-1.397 2.329-8.384 11.645-15.837 20.495-13.508 3.726 0.932 11.179-8.85 13.508-9.782 3.726-1.397 1.863 3.726 1.863 6.987 8.85-6.987 20.961-10.713 32.14-14.906" fill="#7fc37e" data-fill-palette-color="tertiary"></path></g><g transform="matrix(1,0,0,1,64,139.57894736842104)"><svg viewBox="0 0 192 80.8421052631579" height="80.8421052631579" width="192"><g><svg viewBox="0 0 192 80.8421052631579" height="80.8421052631579" width="192"><g><svg viewBox="0 0 192 80.8421052631579" height="80.8421052631579" width="192"><g><svg viewBox="0 0 192 80.8421052631579" height="80.8421052631579" width="192"><g><svg viewBox="0 0 192 80.8421052631579" height="80.8421052631579" width="192"><g><svg viewBox="0 0 192 80.8421052631579" height="80.8421052631579" width="192"><g transform="matrix(1,0,0,1,0,0)"><svg width="192" viewBox="3.25 -34.70000076293945 83.58999633789062 35.20000076293945" height="80.8421052631579" data-palette-color="#7fc37e"><path d="M14 0L3.25 0 3.25-1.25 7.25-2.1 7.25-30.9 3.25-31.75 3.25-33 13.15-33Q18.4-33 21.43-30.83 24.45-28.65 24.45-24.85L24.45-24.85Q24.45-21.85 22.53-19.75 20.6-17.65 17.45-16.65L17.45-16.65 27.1-1.9 30.4-1.25 30.4 0 24.6 0 14.6-15.65 10.25-15.65 10.25-2.15 14-1.25 14 0ZM13.5-31.25L13.5-31.25 10.25-31.25 10.25-17.4 13.8-17.4Q16.95-17.4 19.03-19.33 21.1-21.25 21.1-24.2L21.1-24.2Q21.1-27.45 19.05-29.35 17-31.25 13.5-31.25ZM38.45 0.5L38.45 0.5Q36.15 0.5 34.6-0.88 33.05-2.25 33.05-4.7L33.05-4.7Q33.05-7.1 34.77-8.7 36.5-10.3 40.5-11.3L40.5-11.3 45.4-12.55 45.4-16.7Q45.4-18.85 43.85-20.18 42.3-21.5 40.3-21.5L40.3-21.5Q38.15-21.5 37.27-20.63 36.4-19.75 36.4-18.25L36.4-18.25 36.4-16.2 36.15-15.95 34.85-15.95Q34.05-15.95 33.8-16.2 33.55-16.45 33.55-17.15L33.55-17.15Q33.55-18.1 34.2-19.1 34.85-20.1 36.1-20.9L36.1-20.9Q37.45-21.75 38.82-22.38 40.2-23 41.45-23L41.45-23Q44.45-23 46.17-21.68 47.9-20.35 47.9-17.55L47.9-17.55 47.9-2Q48.3-1.65 48.82-1.45 49.35-1.25 50.05-1.25L50.05-1.25 52.65-1.25 52.7-1.2 52.7-1.1Q52.35-0.6 51.55-0.05 50.75 0.5 49.4 0.5L49.4 0.5Q47.65 0.5 46.7-0.4 45.75-1.3 45.55-2.5L45.55-2.5 45.45-2.5Q44.15-1.2 42.32-0.35 40.5 0.5 38.45 0.5ZM35.55-5.6L35.55-5.6Q35.55-3.55 36.7-2.53 37.85-1.5 39.95-1.5L39.95-1.5Q41.2-1.5 42.65-1.88 44.1-2.25 45.4-3.05L45.4-3.05 45.4-11.5Q41.25-10.65 39.12-9.8 37-8.95 36.27-7.95 35.55-6.95 35.55-5.6ZM63.95 0.25L63.45 0.25 55.3-20.8 52.15-21.75 52.15-22.5 61.75-22.5 61.75-21.75 57.9-20.9 57.9-20.75 64.34-3.25 64.5-3.25 70.84-20.7 70.84-20.85 66.8-21.75 66.8-22.5 75.65-22.5 75.65-21.75 72.45-20.8 63.95 0.25ZM81.34-30.9L81.34-30.9Q80.54-30.9 79.99-31.45 79.44-32 79.44-32.8L79.44-32.8Q79.44-33.6 79.99-34.15 80.54-34.7 81.34-34.7L81.34-34.7Q82.14-34.7 82.69-34.15 83.24-33.6 83.24-32.8L83.24-32.8Q83.24-32 82.69-31.45 82.14-30.9 81.34-30.9ZM86.84 0L77.64 0 77.64-0.75 80.79-1.6 80.79-20.6 77.14-21.55 77.14-22.3 82.79-23 83.29-23 83.29-1.6 86.84-0.75 86.84 0Z" opacity="1" transform="matrix(1,0,0,1,0,0)" fill="#7fc37e" class="undefined-text-0" data-fill-palette-color="primary" id="text-0"></path></svg></g></svg></g></svg></g></svg></g><g></g></svg></g></svg></g></svg></g></svg></g></svg><rect width="320" height="360" fill="none" stroke="none" visibility="hidden"></rect></g></svg></g></svg>',
          // load your custom icon lazily
          settings: () => fs.readFile('./public/favicon.svg', 'utf-8'),
        },
      },
    }),
    presetTypography(),
    presetWebFonts({
      fonts: {
        sans: 'DM Sans',
        serif: 'DM Serif Display',
        mono: 'DM Mono',
      },
    }),
  ],
  transformers: [
    transformerDirectives(),
    transformerVariantGroup(),
  ],
  safelist: 'prose prose-sm m-auto text-left'.split(' '),
  mergeSelectors: false,
  // preflights: [
  //   {
  //     getCSS: () => `
  //     .n-button {
  //       background-color: var(--n-color)
  //     }
  //   `,
  //   },
  // ],
})
