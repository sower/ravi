import{t as U,w as G,a as Q,i as B,b as W,n as X,c as F,d as Y,e as Z,f as A,g as ee}from"./@vueuse_shared@12.7.0_typescript@5.7.3-CbZll9AF.js";import{w as J,m as D,n as te,b as ne,g as oe,p as re}from"./@vue_runtime-core@3.5.13-Cb-Lzkic.js";import{o as j,q as K,v as M,u as ie,g as z}from"./@vue_reactivity@3.5.13-DMa_mvt2.js";const N=B?window:void 0,se=B?window.document:void 0;function T(e){var o;const r=M(e);return(o=r==null?void 0:r.$el)!=null?o:r}function E(...e){const o=[],r=()=>{o.forEach(l=>l()),o.length=0},f=(l,n,u,a)=>(l.addEventListener(n,u,a),()=>l.removeEventListener(n,u,a)),p=D(()=>{const l=W(M(e[0])).filter(n=>n!=null);return l.every(n=>typeof n!="string")?l:void 0}),i=Y(()=>{var l,n;return[(n=(l=p.value)==null?void 0:l.map(u=>T(u)))!=null?n:[N].filter(u=>u!=null),W(M(p.value?e[1]:e[0])),W(ie(p.value?e[2]:e[1])),M(p.value?e[3]:e[2])]},([l,n,u,a])=>{if(r(),!(l!=null&&l.length)||!(n!=null&&n.length)||!(u!=null&&u.length))return;const c=Z(a)?{...a}:a;o.push(...l.flatMap(g=>n.flatMap(y=>u.map(b=>f(g,y,b,c)))))},{flush:"post"}),v=()=>{i(),r()};return F(r),v}let I=!1;function he(e,o,r={}){const{window:f=N,ignore:p=[],capture:i=!0,detectIframe:v=!1,controls:l=!1}=r;if(!f)return l?{stop:A,cancel:A,trigger:A}:A;if(ee&&!I){I=!0;const t={passive:!0};Array.from(f.document.body.children).forEach(s=>E(s,"click",A,t)),E(f.document.documentElement,"click",A,t)}let n=!0;const u=t=>M(p).some(s=>{if(typeof s=="string")return Array.from(f.document.querySelectorAll(s)).some(w=>w===t.target||t.composedPath().includes(w));{const w=T(s);return w&&(t.target===w||t.composedPath().includes(w))}});function a(t){const s=M(t);return s&&s.$.subTree.shapeFlag===16}function c(t,s){const w=M(t),h=w.$.subTree&&w.$.subTree.children;return h==null||!Array.isArray(h)?!1:h.some(k=>k.el===s.target||s.composedPath().includes(k.el))}const g=t=>{const s=T(e);if(t.target!=null&&!(!(s instanceof Element)&&a(e)&&c(e,t))&&!(!s||s===t.target||t.composedPath().includes(s))){if("detail"in t&&t.detail===0&&(n=!u(t)),!n){n=!0;return}o(t)}};let y=!1;const b=[E(f,"click",t=>{y||(y=!0,setTimeout(()=>{y=!1},0),g(t))},{passive:!0,capture:i}),E(f,"pointerdown",t=>{const s=T(e);n=!u(t)&&!!(s&&!t.composedPath().includes(s))},{passive:!0}),v&&E(f,"blur",t=>{setTimeout(()=>{var s;const w=T(e);((s=f.document.activeElement)==null?void 0:s.tagName)==="IFRAME"&&!(w!=null&&w.contains(f.document.activeElement))&&o(t)},0)},{passive:!0})].filter(Boolean),d=()=>b.forEach(t=>t());return l?{stop:d,cancel:()=>{n=!1},trigger:t=>{n=!0,g(t),n=!1}}:d}function le(){const e=j(!1),o=oe();return o&&ne(()=>{e.value=!0},o),e}function ue(e){const o=le();return D(()=>(o.value,!!e()))}function $(e,o,r={}){const{window:f=N,...p}=r;let i;const v=ue(()=>f&&"MutationObserver"in f),l=()=>{i&&(i.disconnect(),i=void 0)},n=D(()=>{const g=M(e),y=W(g).map(T).filter(X);return new Set(y)}),u=J(()=>n.value,g=>{l(),v.value&&g.size&&(i=new MutationObserver(o),g.forEach(y=>i.observe(y,p)))},{immediate:!0,flush:"post"}),a=()=>i==null?void 0:i.takeRecords(),c=()=>{u(),l()};return F(c),{isSupported:v,stop:c,takeRecords:a}}function ae(e,o,r={}){const{window:f=N,document:p=f==null?void 0:f.document,flush:i="sync"}=r;if(!f||!p)return A;let v;const l=a=>{v==null||v(),v=a},n=re(()=>{const a=T(e);if(a){const{stop:c}=$(p,g=>{g.map(b=>[...b.removedNodes]).flat().some(b=>b===a||b.contains(a))&&o(g)},{window:f,childList:!0,subtree:!0});l(c)}},{flush:i}),u=()=>{n(),l()};return F(u),u}function Se(e={}){var o;const{window:r=N,deep:f=!0,triggerOnRemoval:p=!1}=e,i=(o=e.document)!=null?o:r==null?void 0:r.document,v=()=>{var u;let a=i==null?void 0:i.activeElement;if(f)for(;a!=null&&a.shadowRoot;)a=(u=a==null?void 0:a.shadowRoot)==null?void 0:u.activeElement;return a},l=K(),n=()=>{l.value=v()};if(r){const u={capture:!0,passive:!0};E(r,"blur",a=>{a.relatedTarget===null&&n()},u),E(r,"focus",n,u)}return p&&ae(l,n,{document:i}),n(),l}const P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L="__vueuse_ssr_handlers__",ce=fe();function fe(){return L in P||(P[L]=P[L]||{}),P[L]}function de(e,o){return ce[e]||o}function me(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const pe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},x="vueuse-storage";function be(e,o,r,f={}){var p;const{flush:i="pre",deep:v=!0,listenToStorageChanges:l=!0,writeDefaults:n=!0,mergeDefaults:u=!1,shallow:a,window:c=N,eventFilter:g,onError:y=m=>{console.error(m)},initOnMounted:b}=f,d=(a?j:K)(typeof o=="function"?o():o),t=D(()=>M(e));if(!r)try{r=de("getDefaultStorage",()=>{var m;return(m=N)==null?void 0:m.localStorage})()}catch(m){y(m)}if(!r)return d;const s=M(o),w=me(s),h=(p=f.serializer)!=null?p:pe[w],{pause:k,resume:_}=G(d,()=>q(d.value),{flush:i,deep:v,eventFilter:g});J(t,()=>C(),{flush:i}),c&&l&&Q(()=>{r instanceof Storage?E(c,"storage",C,{passive:!0}):E(c,x,V),b&&C()}),b||C();function R(m,S){if(c){const O={key:t.value,oldValue:m,newValue:S,storageArea:r};c.dispatchEvent(r instanceof Storage?new StorageEvent("storage",O):new CustomEvent(x,{detail:O}))}}function q(m){try{const S=r.getItem(t.value);if(m==null)R(S,null),r.removeItem(t.value);else{const O=h.write(m);S!==O&&(r.setItem(t.value,O),R(S,O))}}catch(S){y(S)}}function H(m){const S=m?m.newValue:r.getItem(t.value);if(S==null)return n&&s!=null&&r.setItem(t.value,h.write(s)),s;if(!m&&u){const O=h.read(S);return typeof u=="function"?u(O,s):w==="object"&&!Array.isArray(O)?{...s,...O}:O}else return typeof S!="string"?S:h.read(S)}function C(m){if(!(m&&m.storageArea!==r)){if(m&&m.key==null){d.value=s;return}if(!(m&&m.key!==t.value)){k();try{(m==null?void 0:m.newValue)!==h.write(d.value)&&(d.value=H(m))}catch(S){y(S)}finally{m?te(_):_()}}}}function V(m){C(m.detail)}return d}const ve={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function Ee(e={}){const{reactive:o=!1,target:r=N,aliasMap:f=ve,passive:p=!0,onEventFired:i=A}=e,v=z(new Set),l={toJSON(){return{}},current:v},n=o?z(l):l,u=new Set,a=new Set;function c(d,t){d in n&&(o?n[d]=t:n[d].value=t)}function g(){v.clear();for(const d of a)c(d,!1)}function y(d,t){var s,w;const h=(s=d.key)==null?void 0:s.toLowerCase(),_=[(w=d.code)==null?void 0:w.toLowerCase(),h].filter(Boolean);h&&(t?v.add(h):v.delete(h));for(const R of _)a.add(R),c(R,t);h==="meta"&&!t?(u.forEach(R=>{v.delete(R),c(R,!1)}),u.clear()):typeof d.getModifierState=="function"&&d.getModifierState("Meta")&&t&&[...v,..._].forEach(R=>u.add(R))}E(r,"keydown",d=>(y(d,!0),i(d)),{passive:p}),E(r,"keyup",d=>(y(d,!1),i(d)),{passive:p}),E("blur",g,{passive:p}),E("focus",g,{passive:p});const b=new Proxy(n,{get(d,t,s){if(typeof t!="string")return Reflect.get(d,t,s);if(t=t.toLowerCase(),t in f&&(t=f[t]),!(t in n))if(/[+_-]/.test(t)){const h=t.split(/[+_-]/g).map(k=>k.trim());n[t]=D(()=>h.map(k=>M(b[k])).every(Boolean))}else n[t]=j(!1);const w=Reflect.get(d,t,s);return o?M(w):w}});return b}function Me(e=null,o={}){var r,f,p;const{document:i=se,restoreOnUnmount:v=c=>c}=o,l=(r=i==null?void 0:i.title)!=null?r:"",n=U((f=e??(i==null?void 0:i.title))!=null?f:null),u=!!(e&&typeof e=="function");function a(c){if(!("titleTemplate"in o))return c;const g=o.titleTemplate||"%s";return typeof g=="function"?g(c):M(g).replace(/%s/g,c)}return J(n,(c,g)=>{c!==g&&i&&(i.title=a(c??""))},{immediate:!0}),o.observe&&!o.titleTemplate&&i&&!u&&$((p=i.head)==null?void 0:p.querySelector("title"),()=>{i&&i.title!==n.value&&(n.value=a(i.title))},{childList:!0}),F(()=>{if(v){const c=v(l,n.value||"");c!=null&&i&&(i.title=c)}}),n}export{be as a,Se as b,Ee as c,he as o,Me as u};
