import{t as N,w as B,a as K,b as q,c as H,i as z,d as F,n as k,e as U,f as $,g as G}from"./@vueuse_shared@10.7.0_vue@3.3.12-hWEE3yGa.js";import{k as Q,l as J,h as j}from"./@vue_reactivity@3.3.12-appJa7x2.js";import{n as X,l as W,m as I,g as Y,o as Z}from"./@vue_runtime-core@3.3.12-HMTOTnwY.js";function R(e){var r;const t=N(e);return(r=t==null?void 0:t.$el)!=null?r:t}const A=z?window:void 0,ee=z?window.document:void 0;function S(...e){let r,t,s,w;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,s,w]=e,r=A):[r,t,s,w]=e,!r)return k;Array.isArray(t)||(t=[t]),Array.isArray(s)||(s=[s]);const o=[],d=()=>{o.forEach(p=>p()),o.length=0},m=(p,i,n,f)=>(p.addEventListener(i,n,f),()=>p.removeEventListener(i,n,f)),a=W(()=>[R(r),N(w)],([p,i])=>{if(d(),!p)return;const n=U(i)?{...i}:i;o.push(...t.flatMap(f=>s.map(y=>m(p,f,y,n))))},{immediate:!0,flush:"post"}),g=()=>{a(),d()};return F(g),g}let P=!1;function me(e,r,t={}){const{window:s=A,ignore:w=[],capture:o=!0,detectIframe:d=!1}=t;if(!s)return;G&&!P&&(P=!0,Array.from(s.document.body.children).forEach(n=>n.addEventListener("click",k)),s.document.documentElement.addEventListener("click",k));let m=!0;const a=n=>w.some(f=>{if(typeof f=="string")return Array.from(s.document.querySelectorAll(f)).some(y=>y===n.target||n.composedPath().includes(y));{const y=R(f);return y&&(n.target===y||n.composedPath().includes(y))}}),p=[S(s,"click",n=>{const f=R(e);if(!(!f||f===n.target||n.composedPath().includes(f))){if(n.detail===0&&(m=!a(n)),!m){m=!0;return}r(n)}},{passive:!0,capture:o}),S(s,"pointerdown",n=>{const f=R(e);m=!a(n)&&!!(f&&!n.composedPath().includes(f))},{passive:!0}),d&&S(s,"blur",n=>{setTimeout(()=>{var f;const y=R(e);((f=s.document.activeElement)==null?void 0:f.tagName)==="IFRAME"&&!(y!=null&&y.contains(s.document.activeElement))&&r(n)},0)})].filter(Boolean);return()=>p.forEach(n=>n())}function pe(e={}){var r;const{window:t=A,deep:s=!0}=e,w=(r=e.document)!=null?r:t==null?void 0:t.document,o=()=>{var m;let a=w==null?void 0:w.activeElement;if(s)for(;a!=null&&a.shadowRoot;)a=(m=a==null?void 0:a.shadowRoot)==null?void 0:m.activeElement;return a},d=$(()=>null,()=>o());return t&&(S(t,"blur",m=>{m.relatedTarget===null&&d.trigger()},!0),S(t,"focus",d.trigger,!0)),d}function te(){const e=J(!1);return Y()&&Z(()=>{e.value=!0}),e}function ne(e){const r=te();return I(()=>(r.value,!!e()))}const L=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},T="__vueuse_ssr_handlers__",re=oe();function oe(){return T in L||(L[T]=L[T]||{}),L[T]}function ie(e,r){return re[e]||r}function se(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ae={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},V="vueuse-storage";function we(e,r,t,s={}){var w;const{flush:o="pre",deep:d=!0,listenToStorageChanges:m=!0,writeDefaults:a=!0,mergeDefaults:g=!1,shallow:p,window:i=A,eventFilter:n,onError:f=c=>{console.error(c)},initOnMounted:y}=s,u=(p?Q:J)(typeof r=="function"?r():r);if(!t)try{t=ie("getDefaultStorage",()=>{var c;return(c=A)==null?void 0:c.localStorage})()}catch(c){f(c)}if(!t)return u;const l=N(r),O=se(l),h=(w=s.serializer)!=null?w:ae[O],{pause:b,resume:_}=B(u,()=>C(u.value),{flush:o,deep:d,eventFilter:n});return i&&m&&K(()=>{S(i,"storage",D),S(i,V,x),y&&D()}),y||D(),u;function C(c){try{if(c==null)t.removeItem(e);else{const v=h.write(c),M=t.getItem(e);M!==v&&(t.setItem(e,v),i&&i.dispatchEvent(new CustomEvent(V,{detail:{key:e,oldValue:M,newValue:v,storageArea:t}})))}}catch(v){f(v)}}function E(c){const v=c?c.newValue:t.getItem(e);if(v==null)return a&&l!=null&&t.setItem(e,h.write(l)),l;if(!c&&g){const M=h.read(v);return typeof g=="function"?g(M,l):O==="object"&&!Array.isArray(M)?{...l,...M}:M}else return typeof v!="string"?v:h.read(v)}function x(c){D(c.detail)}function D(c){if(!(c&&c.storageArea!==t)){if(c&&c.key==null){u.value=l;return}if(!(c&&c.key!==e)){b();try{(c==null?void 0:c.newValue)!==h.write(u.value)&&(u.value=E(c))}catch(v){f(v)}finally{c?X(_):_()}}}}}function le(e,r,t={}){const{window:s=A,...w}=t;let o;const d=ne(()=>s&&"MutationObserver"in s),m=()=>{o&&(o.disconnect(),o=void 0)},a=W(()=>R(e),i=>{m(),d.value&&s&&i&&(o=new MutationObserver(r),o.observe(i,w))},{immediate:!0}),g=()=>o==null?void 0:o.takeRecords(),p=()=>{m(),a()};return F(p),{isSupported:d,stop:p,takeRecords:g}}const ue={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function ye(e={}){const{reactive:r=!1,target:t=A,aliasMap:s=ue,passive:w=!0,onEventFired:o=k}=e,d=j(new Set),m={toJSON(){return{}},current:d},a=r?j(m):m,g=new Set,p=new Set;function i(u,l){u in a&&(r?a[u]=l:a[u].value=l)}function n(){d.clear();for(const u of p)i(u,!1)}function f(u,l){var O,h;const b=(O=u.key)==null?void 0:O.toLowerCase(),C=[(h=u.code)==null?void 0:h.toLowerCase(),b].filter(Boolean);b&&(l?d.add(b):d.delete(b));for(const E of C)p.add(E),i(E,l);b==="meta"&&!l?(g.forEach(E=>{d.delete(E),i(E,!1)}),g.clear()):typeof u.getModifierState=="function"&&u.getModifierState("Meta")&&l&&[...d,...C].forEach(E=>g.add(E))}S(t,"keydown",u=>(f(u,!0),o(u)),{passive:w}),S(t,"keyup",u=>(f(u,!1),o(u)),{passive:w}),S("blur",n,{passive:!0}),S("focus",n,{passive:!0});const y=new Proxy(a,{get(u,l,O){if(typeof l!="string")return Reflect.get(u,l,O);if(l=l.toLowerCase(),l in s&&(l=s[l]),!(l in a))if(/[+_-]/.test(l)){const b=l.split(/[+_-]/g).map(_=>_.trim());a[l]=I(()=>b.every(_=>N(y[_])))}else a[l]=J(!1);const h=Reflect.get(u,l,O);return r?N(h):h}});return y}function ge(e=null,r={}){var t,s,w;const{document:o=ee,restoreOnUnmount:d=i=>i}=r,m=(t=o==null?void 0:o.title)!=null?t:"",a=q((s=e??(o==null?void 0:o.title))!=null?s:null),g=e&&typeof e=="function";function p(i){if(!("titleTemplate"in r))return i;const n=r.titleTemplate||"%s";return typeof n=="function"?n(i):N(n).replace(/%s/g,i)}return W(a,(i,n)=>{i!==n&&o&&(o.title=p(typeof i=="string"?i:""))},{immediate:!0}),r.observe&&!r.titleTemplate&&o&&!g&&le((w=o.head)==null?void 0:w.querySelector("title"),()=>{o&&o.title!==a.value&&(a.value=p(o.title))},{childList:!0}),H(()=>{if(d){const i=d(m,a.value||"");i!=null&&o&&(o.title=i)}}),a}export{we as a,pe as b,ye as c,me as o,ge as u};
