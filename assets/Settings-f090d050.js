import{d as b,e as w,E as I,A as k,as as T,o as h,f as x,w as o,i as s,g as B,t as v,h as n,F as N,j as r,G as U,l as y,at as C,au as E,H as O,av as R,I as J,m as V}from"./.pnpm-029b6379.js";import{u as W,c as p,s as z}from"./index-c5ad6a6d.js";const H=r("p",null,null,-1),A=b({__name:"WebsitesText",setup(S){const{t:l}=w(),i=W(),{websites:d}=I(i),_=k(JSON.stringify(d.value,null,2));function a(t,c,e,u){if(C.isEmpty(t)||t.length<e||t.length>u)throw new Error(`${c} (${t}) should be ${e}-${u} characters`)}function m(t){for(const c of Object.keys(t))a(c,"Title name",1,10),t[c].forEach((e,u)=>{a(e==null?void 0:e.name,"Site name",1,20),a(e==null?void 0:e.url,"Site url",3,1e3),e!=null&&e.shortcut&&a(e.shortcut,"Site shortcut",1,1)})}function g(){try{const t=JSON.parse(_.value);m(t),i.setWebsites(t),window.$message.info("load success")}catch(t){window.$message.error(`load failure: ${t.message}`)}}function f(){_.value=JSON.stringify(d.value,null,2),window.$message.info("dump success")}return(t,c)=>{const e=T,u=U,$=y;return h(),x($,{vertical:"",align:"center"},{default:o(()=>[s(e,null,{default:o(()=>[B(v(n(l)("settings.websites")),1)]),_:1}),s(u,{value:n(_),"onUpdate:value":c[0]||(c[0]=j=>N(_)?_.value=j:null),class:"min-w-[50vw]",autosize:{minRows:5,maxRows:20},type:"textarea",size:"large"},null,8,["value"]),s($,{"my-xl":"",justify:"space-around"},{default:o(()=>[r("button",{btn:"",onClick:f},v(n(l)("settings.dump")),1),H,r("button",{btn:"",onClick:g},v(n(l)("settings.load")),1)]),_:1})]),_:1})}}}),D=r("div",{"text-2xl":"",class:"i-carbon-image"},null,-1),F=b({__name:"BgImage",setup(S){const{t:l}=w(),i=k(p.value.url);function d(){p.value.url=i.value,window.$message.info("ok")}return(_,a)=>{const m=y,g=E,f=O,t=U,c=R,e=J;return h(),x(m,{vertical:"",align:"center"},{default:o(()=>[s(m,{justify:"space-evenly","text-xl":"","my-sm":""},{default:o(()=>[D,r("div",null,v(n(l)("settings.background-image")),1)]),_:1}),s(e,{model:n(p),"label-placement":"left","label-width":"auto","w-xs":""},{default:o(()=>[s(f,{label:n(l)("settings.show"),path:"isShow"},{default:o(()=>[s(g,{value:n(p).isShow,"onUpdate:value":a[0]||(a[0]=u=>n(p).isShow=u)},null,8,["value"])]),_:1},8,["label"]),s(f,{label:n(l)("settings.url"),path:"url"},{default:o(()=>[s(t,{value:n(i),"onUpdate:value":a[1]||(a[1]=u=>N(i)?i.value=u:null),"on-blur":d,placeholder:"Image url or base64"},null,8,["value"])]),_:1},8,["label"]),s(f,{label:n(l)("settings.opacity"),path:"opacity"},{default:o(()=>[s(c,{value:n(p).opacity,"onUpdate:value":a[2]||(a[2]=u=>n(p).opacity=u),max:1,step:.01},null,8,["value","step"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1})}}}),G=r("div",{class:"i-carbon-settings"},null,-1),q=r("div",{"text-sm":"",class:"i-carbon:split-screen"},null,-1),P=b({__name:"Settings",setup(S){const{t:l}=w();return z(l("header.setting")),(i,d)=>{const _=y,a=F,m=V,g=A;return h(),x(_,{vertical:"",align:"center",class:"settings"},{default:o(()=>[s(_,{justify:"space-evenly","text-4xl":"","my-xl":""},{default:o(()=>[G,r("div",null,v(n(l)("header.setting")),1)]),_:1}),s(a),s(m,{class:"w-xs","title-placement":"center"},{default:o(()=>[q]),_:1}),s(g)]),_:1})}}});export{P as default};
