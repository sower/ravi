import{l as g}from"./lodash.adc7a166.js";import{s as v}from"./pinia.2dff39de.js";import{u as w}from"./index.eaa0dab0.js";import{I as S,a as y,g as h}from"./naive-ui.fffdf306.js";import{m as b,r as x,W as $,X as k,Y as i,S as l,j as N,u as C,b as B,$ as r}from"./@vue.8936e839.js";import"./axios.d07afc41.js";import"./vue-i18n.67d7ed8f.js";import"./@intlify.adb6fa1b.js";import"./vite-ssg.9953a0af.js";import"./vue-router.fb34c92e.js";import"./@vueuse.f97b4275.js";import"./@unhead.9d9441d6.js";import"./hookable.9d32b690.js";/* empty css                */import"./date-fns.a65ded87.js";import"./vooks.04193f27.js";import"./evtd.9eee5233.js";import"./treemate.80cdf2c2.js";import"./vueuc.130a384e.js";import"./seemly.815dc75a.js";import"./@css-render.ecf224b2.js";import"./vdirs.9b78243b.js";import"./@juggle.32c34d6c.js";import"./css-render.20ab466e.js";import"./@emotion.6322e2ae.js";import"./lodash-es.566cba93.js";import"./async-validator.fb49d0f5.js";import"./date-fns-tz.60c795ea.js";const j=r("div",{class:"i-carbon-settings"},null,-1),O=r("div",null,"Settings",-1),R=r("p",null,null,-1),it=b({__name:"Settings",setup(W){const u=w(),{websites:m}=v(u),n=x(JSON.stringify(m.value,null,2));function a(e,o,t,s){if(g.isEmpty(e)||e.length<t||e.length>s)throw new Error(`${o} (${e}) should be ${t}-${s} characters`)}function c(e){for(const o of Object.keys(e))a(o,"Title name",1,10),e[o].forEach((t,s)=>{a(t==null?void 0:t.name,"Site name",1,20),a(t==null?void 0:t.url,"Site url",3,1e3),t!=null&&t.shortcut&&a(t.shortcut,"Site shortcut",1,1)})}function p(){try{const e=JSON.parse(n.value);c(e),u.setWebsites(e),window.$message.info("load success")}catch(e){window.$message.error(`load failure: ${e.message}`)}}function _(){n.value=JSON.stringify(m.value,null,2),window.$message.info("dump success")}return(e,o)=>{const t=y,s=S,f=h;return $(),k(t,{vertical:"",align:"center",class:"settings"},{default:i(()=>[l(t,{justify:"space-evenly","text-4xl":"","my-xl":""},{default:i(()=>[j,O]),_:1}),l(s,null,{default:i(()=>[N("Websites")]),_:1}),l(f,{value:C(n),"onUpdate:value":o[0]||(o[0]=d=>B(n)?n.value=d:null),class:"min-w-[50vw]",autosize:{minRows:5,maxRows:20},type:"textarea",size:"large"},null,8,["value"]),l(t,{"my-xl":"",justify:"space-around"},{default:i(()=>[r("button",{btn:"",onClick:_}," \u5BFC\u51FA "),R,r("button",{btn:"",onClick:p}," \u5BFC\u5165 ")]),_:1})]),_:1})}}});export{it as default};
