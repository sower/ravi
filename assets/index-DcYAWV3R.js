import{s as F}from"./pinia@2.3.1_typescript@5.7.3_vue@3.5.13_typescript@5.7.3_-CK8v8DeV.js";import{u as X}from"./website-Dsn294Dy.js";import{s as z,t as G,v as O,w as H,x as J,y as W,n as Q,A as V,B as K,C as Z,m as L,D as ee,E as te,F as ne}from"./naive-ui@2.41.0_vue@3.5.13_typescript@5.7.3_-CIpljs1d.js";import{E as S,N as k,O as d,P as a,l as e,R as $,i as A,U as y,F as C,A as D,V as P,n as oe,m as se,G as B}from"./@vue_runtime-core@3.5.13-Cb-Lzkic.js";import{q as x,u as _,a as ae}from"./@vue_reactivity@3.5.13-DMa_mvt2.js";import{o as re,b as le,c as ie,a as ue}from"./@vueuse_core@12.7.0_typescript@5.7.3-MVPZ38Cl.js";import{J as R}from"./@vue_shared@3.5.13-BI8cG9WF.js";import{a as j,s as Y,c as ce}from"./index-B7IryH1m.js";import{o as _e}from"./common-he2xlsDv.js";import{h as pe}from"./@vueuse_shared@12.7.0_typescript@5.7.3-CbZll9AF.js";import{_ as me}from"./SearchPrompt.vue_vue_type_script_setup_true_lang-CWHBl2bq.js";import"./date-fns@3.6.0-C2TYS9Rb.js";import"./@vue_runtime-dom@3.5.13-DfqiEize.js";import"./vueuc@0.4.64_vue@3.5.13_typescript@5.7.3_-CkMIUC6i.js";import"./evtd@0.2.4-CI_DDEu_.js";import"./seemly@0.3.10-vwiZZiLp.js";import"./@css-render_vue3-ssr@0.15.14_vue@3.5.13_typescript@5.7.3_-C_LhJcnU.js";import"./vooks@0.2.12_vue@3.5.13_typescript@5.7.3_-g1Aia_to.js";import"./vdirs@0.1.8_vue@3.5.13_typescript@5.7.3_-BAjskub0.js";import"./@juggle_resize-observer@3.4.0-C8OzoCMD.js";import"./css-render@0.15.14-C5toWlUr.js";import"./@emotion_hash@0.8.0-WldOFDRm.js";import"./treemate@0.3.11-HRdUPn5m.js";import"./lodash-es@4.17.21-Je7ZdWGk.js";import"./async-validator@4.2.5-9PlIezaS.js";import"./date-fns-tz@3.2.0_date-fns@3.6.0--sBon5vR.js";import"./@css-render_plugin-bem@0.15.14_css-render@0.15.14-Be8eOoM-.js";import"./vue-i18n@10.0.5_vue@3.5.13_typescript@5.7.3_-C-MjfSiH.js";import"./@intlify_shared@10.0.5-ETn5s-WQ.js";import"./@intlify_core-base@10.0.5-DrncvHeh.js";import"./@intlify_message-compiler@10.0.5-J3zsFpIG.js";import"./vite-ssg@25.2.0_prettier@3.5.2_vite@6.1.1_@types_node@22.13.5_jiti@2.4.2_terser@5.39.0_tsx@4._ruhdw6qurzoadi77gcdrteer6q-DZheiiV3.js";import"./vue-router@4.5.0_vue@3.5.13_typescript@5.7.3_-C_dL1SOE.js";import"./@unhead_vue@1.11.19_vue@3.5.13_typescript@5.7.3_-biCGB3B5.js";import"./unhead@1.11.19-Dc9YxlN5.js";import"./@unhead_dom@1.11.19-BjiGwb0c.js";import"./@unhead_shared@1.11.19-DkCobDbq.js";import"./hookable@5.5.3-B8xFkYCm.js";/* empty css                             */import"./requests-BZLtqVQ0.js";import"./axios@1.7.9-DW_MHI2K.js";const de=S({__name:"Modal",setup(b){const p=X(),{currentSite:t,showModal:r}=F(p),l=x(null),v=o=>!o||/^\w$/.test(o),m={name:{required:!0,min:1,message:"至少有一个字符"},url:{required:!0,min:3,message:"最短长度为 3"},shortcut:{max:1,message:"只能是单个可视字符"}};function i(o){var n;o.preventDefault(),t.value.name=t.value.name.trim(),t.value.url=t.value.url.trim(),(n=l.value)==null||n.validate(g=>{if(g){window.$message.error("Invalid");return}p.setSite(t.value),window.$message.info("保存成功"),r.value=!1})}return(o,n)=>{const g=H,f=O,h=G,u=z,c=J;return d(),k(c,{show:_(r),"onUpdate:show":n[3]||(n[3]=s=>ae(r)?r.value=s:null),preset:"dialog",title:"编辑"},{header:a(()=>n[4]||(n[4]=[$("div",null,"自定义站点",-1)])),icon:a(()=>[e(g,{"i-carbon-edit":"",size:"18"})]),action:a(()=>[$("button",{btn:"",onClick:i}," 保存 ")]),default:a(()=>[e(u,{ref_key:"formRef",ref:l,model:_(t),rules:m},{default:a(()=>[e(h,{label:"网站名",path:"name"},{default:a(()=>[e(f,{value:_(t).name,"onUpdate:value":n[0]||(n[0]=s=>_(t).name=s),maxlength:20},null,8,["value"])]),_:1}),e(h,{label:"网站地址",path:"url"},{default:a(()=>[e(f,{value:_(t).url,"onUpdate:value":n[1]||(n[1]=s=>_(t).url=s)},null,8,["value"])]),_:1}),e(h,{label:"快捷键",path:"shortcut"},{default:a(()=>[e(f,{value:_(t).shortcut,"onUpdate:value":n[2]||(n[2]=s=>_(t).shortcut=s),"allow-input":v,maxlength:1},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])}}}),fe=["href"],ve=S({__name:"Square",props:{title:String,sites:{type:Object,required:!0},callback:Function},setup(b){const p=b,t=X(),r=x(p.title),l=x("success"),v=x(!1);function m(u){u.preventDefault(),v.value=!0}function i(){var u;if(((u=r.value)==null?void 0:u.trim().length)===0){l.value="error",window.$message.warning("The input cannot be blank");return}l.value="success",v.value=!1,t.setTitle(p.title,r.value),window.$message.success("Save successfully")}const o=x(null);re(o,u=>i());const n=A("showContext"),g=A("positionX"),f=A("positionY");function h(u,c){c.preventDefault(),n.value=!1,oe().then(()=>{n.value=!0,g.value=c.clientX,f.value=c.clientY,t.setCurrentSite(u)})}return(u,c)=>{const s=O,E=Q,N=W,T=Z,U=K,I=V;return d(),y(C,null,[e(N,{prefix:"bar",class:"ml-1 max-w-[90%]",onClick:m},{default:a(()=>[v.value?(d(),k(s,{key:0,ref_key:"target",ref:o,value:r.value,"onUpdate:value":c[0]||(c[0]=w=>r.value=w),type:"text",status:l.value,maxlength:"10",minlength:"1",autofocus:"",clearable:""},null,8,["value","status"])):(d(),k(E,{key:1,strong:""},{default:a(()=>[D(R(r.value),1)]),_:1}))]),_:1}),e(I,{"x-gap":8,"y-gap":8,cols:3,class:"max-w-[400px]"},{default:a(()=>[(d(!0),y(C,null,P(b.sites,(w,q)=>(d(),k(U,{key:w.id,onContextmenu:M=>h({...w,index:q,group:b.title},M)},{default:a(()=>[$("a",{class:"square",href:w.url,target:"_blank"},[e(T,{"max-w-sm":""},{default:a(()=>[D(R(w.name),1)]),_:2},1024)],8,fe)]),_:2},1032,["onContextmenu"]))),128))]),_:1})],64)}}}),ge=j(ve,[["__scopeId","data-v-28ad2ca4"]]),he=S({__name:"Grid",setup(b){const p=X(),{websites:t,showModal:r,getHotKeys:l}=F(p),v=[{label:"Edit",key:"edit"}],m=x(!1),i=x(0),o=x(0);B("showContext",m),B("positionX",i),B("positionY",o);function n(c){m.value=!1,p.setShowModal(!0)}function g(){m.value=!1}const f=le(),h=se(()=>{var c,s;return((c=f.value)==null?void 0:c.tagName)!=="INPUT"&&((s=f.value)==null?void 0:s.tagName)!=="TEXTAREA"}),{current:u}=ie();return pe(u,()=>{if(!h.value||m.value||r.value)return;const c=[...u.keys()].map(s=>s.toUpperCase());for(const s of c)l.value[s]&&_e(l.value[s].url);u.clear()}),(c,s)=>{const E=ge,N=K,T=V,U=L,I=de;return d(),y(C,null,[e(T,{"item-responsive":"","x-gap":35,"y-gap":35,cols:"1 800:2 1200:3"},{default:a(()=>[(d(!0),y(C,null,P(_(t),(w,q,M)=>(d(),k(N,{key:M,class:"mx-auto"},{default:a(()=>[e(E,{sites:w,title:q},null,8,["sites","title"])]),_:2},1024))),128))]),_:1}),e(U,{placement:"bottom-start",trigger:"manual",x:_(i),y:_(o),options:v,show:_(m),"on-clickoutside":g,onSelect:n},null,8,["x","y","show"]),e(I)],64)}}}),we=S({__name:"DropdownSearch",setup(b){const p=Y.value.engineType.filter(i=>i[2]),{engineList:t}=Y.value,r=p.map(i=>({label:i[0],key:i[1],children:t[i[1]].map(o=>({label:o.name,key:o.url,favicon:o.favicon}))})),l=ue("currentEngine",r[0].children[0]);function v(i,o){l.value=o}function m(i){window.open(l.value.key.replaceAll("%s",i))}return(i,o)=>{const n=te,g=ee,f=L,h=me,u=ne;return d(),k(u,null,{default:a(()=>[e(f,{options:_(r),"on-select":v},{default:a(()=>[e(g,null,{default:a(()=>[e(n,{"mr-1":"",color:"white",size:"small",src:_(l).favicon},null,8,["src"]),D(" "+R(_(l).label),1)]),_:1})]),_:1},8,["options"]),e(h,{"do-search":m})]),_:1})}}}),xe={"p-2xl":""},be={class:"search-box"},ke=S({__name:"index",setup(b){return ce("Lattice"),(p,t)=>{const r=we,l=he;return d(),y("div",xe,[$("div",be,[e(r)]),e(l)])}}}),ct=j(ke,[["__scopeId","data-v-197d9415"]]);export{ct as default};
