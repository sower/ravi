import{c as v,g}from"./unhead@1.1.23-8f2f3081.js";import{d as h,H as p}from"./@unhead_shared@1.1.23-886f2746.js";import{n as H,g as f,i as y,w as b,a as w,o as j,b as I,c as U,v as P}from"./@vue_runtime-core@3.2.47-5055464e.js";import{r as c,u as l,i as A}from"./@vue_reactivity@3.2.47-77826540.js";function O(e){return typeof e=="function"?e():l(e)}function o(e,t=""){if(e instanceof Promise)return e;const n=O(e);if(!e||!n)return n;if(Array.isArray(n))return n.map(r=>o(r,t));if(typeof n=="object"){let r=!1;const s=Object.fromEntries(Object.entries(n).map(([a,i])=>a==="titleTemplate"||a.startsWith("on")?[a,l(i)]:((typeof i=="function"||A(i))&&(r=!0),[a,o(i,a)])));return r&&p.includes(String(t))&&(s._dynamic=!0),s}return n}const T=P.startsWith("3"),B=typeof window<"u",d="usehead";function u(){return f()&&y(d)||g()}function E(e){return{install(n){T&&(n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(d,e))}}.install}function C(e={}){const t=v({...e,domDelayFn:n=>setTimeout(()=>H(()=>n()),10),plugins:[$(),...(e==null?void 0:e.plugins)||[]]});return t.install=E(t),t}const $=()=>h({hooks:{"entries:resolve":function(e){for(const t of e.entries)t.resolvedInput=o(t.input)}}});function x(e,t={}){const n=u(),r=c(!1),s=c({});b(()=>{s.value=r.value?{}:o(e)});const a=n.push(s.value,t);return w(s,m=>{a.patch(m)}),f()&&(j(()=>{a.dispose()}),I(()=>{r.value=!0}),U(()=>{r.value=!1})),a}function D(e,t={}){return u().push(e,t)}function F(e,t={}){var r;const n=u();if(n){const s=B||!!((r=n.resolvedOptions)!=null&&r.document);return t.mode==="server"&&s||t.mode==="client"&&!s?void 0:s?x(e,t):D(e,t)}}export{C as c,F as u};
