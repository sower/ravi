import{_ as f}from"./index-c5ad6a6d.js";import"./.pnpm-029b6379.js";function _(d={}){const{immediate:l=!1,onNeedRefresh:g,onOfflineReady:r,onRegistered:t,onRegisteredSW:o,onRegisterError:a}=d;let i,n;const c=async(s=!0)=>{await n};async function v(){if("serviceWorker"in navigator){const{Workbox:s}=await f(()=>import("./.pnpm-029b6379.js").then(e=>e.aG),["assets/.pnpm-029b6379.js","assets/.pnpm-d8642756.css"]);i=new s("/ravi/sw.js",{scope:"/ravi/",type:"classic"}),i.addEventListener("activated",e=>{(e.isUpdate||e.isExternal)&&window.location.reload()}),i.addEventListener("installed",e=>{e.isUpdate||r==null||r()}),i.register({immediate:l}).then(e=>{o?o("/ravi/sw.js",e):t==null||t(e)}).catch(e=>{a==null||a(e)})}}return n=v(),c}export{_ as registerSW};
