import{s as F}from"./pinia@2.1.7_typescript@5.3.3_vue@3.3.12-UsNTopFB.js";import{u as B}from"./website-GpG_k4Db.js";import{s as H,t as O,v as G,w as J,x as W,d as Q,y as Z,A as ee,B as V,C as j,c as K,D as te,E as ne,F as oe}from"./naive-ui@2.35.0_vue@3.3.12-x0W7m_hE.js";import{x as S,N as d,O as b,P as a,j as e,R as E,i as M,U as y,q as X,F as C,V as L,n as se,D as R,m as ae}from"./@vue_runtime-core@3.3.12-HMTOTnwY.js";import{l as x,u as c,i as le}from"./@vue_reactivity@3.3.12-appJa7x2.js";import{o as re,b as ie,c as ue,a as ce}from"./@vueuse_core@10.7.0_vue@3.3.12-IckTQZQI.js";import{o as P}from"./requests--IHCeRGV.js";import{J as A}from"./@vue_shared@3.3.12-0lL7hL3O.js";import{a as z,s as Y,b as _e}from"./index-5W86RE6n.js";import{h as pe}from"./@vueuse_shared@10.7.0_vue@3.3.12-hWEE3yGa.js";import{_ as me}from"./Search-Prompt.vue_vue_type_script_setup_true_lang-bPmX8oSg.js";import"./vue-demi@0.14.6_vue@3.3.12-C4xddsk9.js";import"./date-fns@2.30.0-1HyWxRmb.js";import"./@babel_runtime@7.23.6-5wjvuyNL.js";import"./@vue_runtime-dom@3.3.12-exFE0ZHW.js";import"./vooks@0.2.12_vue@3.3.12-DR4DXOAT.js";import"./evtd@0.2.4-9ZCiDXyn.js";import"./treemate@0.3.11-hmrDCADh.js";import"./seemly@0.3.8-tZbmuCcS.js";import"./vueuc@0.4.54_vue@3.3.12-YsIUEGOT.js";import"./@css-render_vue3-ssr@0.15.12_vue@3.3.12-GjBaTgOa.js";import"./vdirs@0.1.8_vue@3.3.12-0sJ3IHV-.js";import"./@juggle_resize-observer@3.4.0--NVrOerG.js";import"./css-render@0.15.12-9_1cMtkY.js";import"./@emotion_hash@0.8.0-vV6BesBt.js";import"./lodash-es@4.17.21-lFIhOgkm.js";import"./async-validator@4.2.5-BHjhHa7C.js";import"./date-fns-tz@2.0.0_date-fns@2.30.0-Lpl27sgr.js";import"./@css-render_plugin-bem@0.15.12_css-render@0.15.12-QyaMmhxu.js";import"./axios@1.6.2-QLjAsgXu.js";import"./vue-i18n@9.8.0_vue@3.3.12-ox0wutPI.js";import"./@intlify_shared@9.8.0-sBFItQyN.js";import"./@intlify_core-base@9.8.0-zdLpL5je.js";import"./@intlify_message-compiler@9.8.0-QpzHMHM0.js";import"./vite-ssg@0.23.5_critters@0.0.20_vite@5.0.10_vue-router@4.2.5_vue@3.3.12-uPWilPSs.js";import"./vue-router@4.2.5_vue@3.3.12-12jW6XkY.js";import"./@unhead_vue@1.8.9_vue@3.3.12-okyN0QD2.js";import"./unhead@1.8.9-Z-RxyeII.js";import"./hookable@5.5.3-Cuq9Dhxc.js";import"./@unhead_dom@1.8.9-xJXXhpgN.js";import"./@unhead_shared@1.8.9-fjCBxbYg.js";/* empty css                             */const de=E("div",null,"自定义站点",-1),fe=S({__name:"Modal",setup(k){const p=B(),{currentSite:t,showModal:l}=F(p),r=x(null),v=n=>!n||/^\w$/.test(n),m={name:{required:!0,min:1,message:"至少有一个字符"},url:{required:!0,min:3,message:"最短长度为 3"},shortcut:{max:1,message:"只能是单个可视字符"}};function i(n){var o;n.preventDefault(),t.value.name=t.value.name.trim(),t.value.url=t.value.url.trim(),(o=r.value)==null||o.validate(g=>{if(g){window.$message.error("Invalid");return}p.setSite(t.value),window.$message.info("保存成功"),l.value=!1})}return(n,o)=>{const g=H,f=O,h=G,u=J,_=W;return d(),b(_,{show:c(l),"onUpdate:show":o[3]||(o[3]=s=>le(l)?l.value=s:null),preset:"dialog",title:"编辑"},{header:a(()=>[de]),icon:a(()=>[e(g,{"i-carbon-edit":"",size:"18"})]),action:a(()=>[E("button",{btn:"",onClick:i}," 保存 ")]),default:a(()=>[e(u,{ref_key:"formRef",ref:r,model:c(t),rules:m},{default:a(()=>[e(h,{label:"网站名",path:"name"},{default:a(()=>[e(f,{value:c(t).name,"onUpdate:value":o[0]||(o[0]=s=>c(t).name=s),maxlength:20},null,8,["value"])]),_:1}),e(h,{label:"网站地址",path:"url"},{default:a(()=>[e(f,{value:c(t).url,"onUpdate:value":o[1]||(o[1]=s=>c(t).url=s)},null,8,["value"])]),_:1}),e(h,{label:"快捷键",path:"shortcut"},{default:a(()=>[e(f,{value:c(t).shortcut,"onUpdate:value":o[2]||(o[2]=s=>c(t).shortcut=s),"allow-input":v,maxlength:1},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])}}}),ve=["onClick"],ge=S({__name:"Square",props:{title:String,sites:{type:Object,required:!0},callback:Function},setup(k){const p=k,t=B(),l=x(p.title),r=x("success"),v=x(!1);function m(u){u.preventDefault(),v.value=!0}function i(){var u;if(((u=l.value)==null?void 0:u.trim().length)===0){r.value="error",window.$message.warning("The input cannot be blank");return}r.value="success",v.value=!1,t.setTitle(p.title,l.value),window.$message.success("Save successfully")}const n=x(null);re(n,u=>i());const o=M("showContext"),g=M("positionX"),f=M("positionY");function h(u,_){_.preventDefault(),o.value=!1,se().then(()=>{o.value=!0,g.value=_.clientX,f.value=_.clientY,t.setCurrentSite(u)})}return(u,_)=>{const s=O,N=Q,T=Z,U=ee,I=V,q=j;return d(),y(C,null,[e(T,{prefix:"bar",class:"ml-1 max-w-[90%]",onClick:m},{default:a(()=>[v.value?(d(),b(s,{key:0,ref_key:"target",ref:n,value:l.value,"onUpdate:value":_[0]||(_[0]=w=>l.value=w),type:"text",status:r.value,maxlength:"10",minlength:"1",autofocus:"",clearable:""},null,8,["value","status"])):(d(),b(N,{key:1,strong:""},{default:a(()=>[X(A(l.value),1)]),_:1}))]),_:1}),e(q,{"x-gap":8,"y-gap":8,cols:3,class:"max-w-[400px]"},{default:a(()=>[(d(!0),y(C,null,L(k.sites,(w,D)=>(d(),b(I,{key:w.id,onContextmenu:$=>h({...w,index:D,group:k.title},$)},{default:a(()=>[E("div",{class:"square",onClick:$=>c(P)(w.url)},[e(U,{"max-w-sm":""},{default:a(()=>[X(A(w.name),1)]),_:2},1024)],8,ve)]),_:2},1032,["onContextmenu"]))),128))]),_:1})],64)}}}),he=z(ge,[["__scopeId","data-v-5487f43f"]]),we=S({__name:"Grid",setup(k){const p=B(),{websites:t,showModal:l,getHotKeys:r}=F(p),v=[{label:"Edit",key:"edit"}],m=x(!1),i=x(0),n=x(0);R("showContext",m),R("positionX",i),R("positionY",n);function o(_){m.value=!1,p.setShowModal(!0)}function g(){m.value=!1}const f=ie(),h=ae(()=>{var _,s;return((_=f.value)==null?void 0:_.tagName)!=="INPUT"&&((s=f.value)==null?void 0:s.tagName)!=="TEXTAREA"}),{current:u}=ue();return pe(u,()=>{if(!h.value||m.value||l.value)return;const _=[...u.keys()].map(s=>s.toUpperCase());for(const s of _)r.value[s]&&P(r.value[s].url);u.clear()}),(_,s)=>{const N=he,T=V,U=j,I=K,q=fe;return d(),y(C,null,[e(U,{"item-responsive":"","x-gap":35,"y-gap":35,cols:"1 800:2 1200:3"},{default:a(()=>[(d(!0),y(C,null,L(c(t),(w,D,$)=>(d(),b(T,{key:$,class:"mx-auto"},{default:a(()=>[e(N,{sites:w,title:D},null,8,["sites","title"])]),_:2},1024))),128))]),_:1}),e(I,{placement:"bottom-start",trigger:"manual",x:c(i),y:c(n),options:v,show:c(m),"on-clickoutside":g,onSelect:o},null,8,["x","y","show"]),e(q)],64)}}}),xe=S({__name:"Dropdown-Search",setup(k){const p=Y.value.engineType.filter(i=>i[2]),{engineList:t}=Y.value,l=p.map(i=>({label:i[0],key:i[1],children:t[i[1]].map(n=>({label:n.name,key:n.url,favicon:n.favicon}))})),r=ce("currentEngine",l[0].children[0]);function v(i,n){r.value=n}function m(i){window.open(r.value.key.replaceAll("%s",i))}return(i,n)=>{const o=te,g=ne,f=K,h=me,u=oe;return d(),b(u,null,{default:a(()=>[e(f,{options:c(l),"on-select":v},{default:a(()=>[e(g,null,{default:a(()=>[e(o,{"mr-1":"",color:"white",size:"small",src:c(r).favicon},null,8,["src"]),X(" "+A(c(r).label),1)]),_:1})]),_:1},8,["options"]),e(h,{"do-search":m})]),_:1})}}}),ke={"p-2xl":""},be={class:"search-box"},ye=S({__name:"index",setup(k){return _e("Lattice"),(p,t)=>{const l=xe,r=we;return d(),y("div",ke,[E("div",be,[e(l)]),e(r)])}}}),pt=z(ye,[["__scopeId","data-v-8fd5c185"]]);export{pt as default};
